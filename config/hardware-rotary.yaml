i2c:
  # Volume encoder still uses Seesaw I2C breakout
  volume_i2c_address: 36

switches:
  # Station selector switch (BCD rotary, 10 positions)
  # Reads binary pattern from 4 GPIO pins
  # NOTE: bit0/bit1 are intentionally swapped (GPIO 9 <-> 10)
  # to match observed FR01 real-coded sequence on this hardware.
  station_switch:
    bit0: 10  # GPIO 10 (value 1)
    bit1: 9   # GPIO 9  (value 2)
    bit2: 22  # GPIO 22 (value 4)
    bit3: 17  # GPIO 17 (value 8)
  
  # Bank selector switch (BCD rotary, 10 positions)
  bank_switch:
    bit0: 5   # GPIO 5  (value 1)
    bit1: 6   # GPIO 6  (value 2)
    bit2: 13  # GPIO 13 (value 4)
    bit3: 11  # GPIO 11 (value 8)

  # Optional raw-code decode map overrides (raw BCD 0-15 -> logical digit).
  # Defaults map 0-9 directly; this override remaps logical 9 to raw 12.
  bank_decode_map:
    12: 9

encoders:
  volume_encoder: 0  # Only one encoder for volume

controls:
  bank_min: 0
  bank_max: 9
  station_min: 0
  station_max: 9
  volume_min: 0
  volume_max: 100
  volume_step: 2

buttons:
  volume_button: "play_pause"  # Volume encoder push button

polling:
  # How often to check switch positions (seconds)
  switch_poll_interval: 0.1
  
  # Debounce: ignore changes faster than this (seconds)
  switch_debounce: 0.05

  # Require decoded value to remain unchanged for this long before accepting.
  switch_stability_window: 0.12

  # Rate-limit invalid raw code warnings.
  invalid_code_log_interval: 5.0

auto_update:
  # Automatically update stations.yaml from GitHub
  enabled: true
  github_url: "https://raw.githubusercontent.com/jodazsa/radio/refs/heads/main/config/stations.yaml"
  local_path: "/home/radio/stations.yaml"
